{{ define "main" }}

  <main class="main full-width">

    <section class="posts">

      {{ $posts := where site.RegularPages "Section" "posts" }}
      {{ $sorted := $posts.ByDate.Reverse }}

      {{ range first 5 $sorted }}
        <article class="post post-list-item">
          <header class="post-header">
            <h2 class="post-title">
              <a href="{{ .RelPermalink }}">{{ .Title }}</a>
            </h2>
            <div class="post-meta">
              <time datetime="{{ .Date.Format "2006-01-02" }}">
                {{ .Date.Format "January 2, 2006" }}
              </time>
              {{ if .ReadingTime }}
                <span> {{ .ReadingTime }} min read</span>
              {{ end }}
            </div>
          </header>

          <div class="post-content post-teaser-content fade-gradient">
            {{ .Summary | safeHTML }}
          </div>

          <a href="{{ .RelPermalink }}" class="read-more">[read more]</a>
        </article>
      {{ end }}

      {{ if gt (len $sorted) 5 }}
        <div class="older-posts-container">
          <a href="/posts/" class="older-posts-button button inline">
            Older Posts â†’ ({{ len $sorted }} total)
          </a>
        </div>
      {{ end }}

    </section>

  </main>

{{ end }}